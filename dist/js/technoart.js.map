{"version":3,"file":"technoart.js","sources":["../../src/js/back-to-top.js","../../src/js/fixed-on-scroll.js","../../src/js/layout.js","../../src/js/menu.js","../../src/js/toggle.js","../../src/js/index.js"],"sourcesContent":["/**\n * Technoart v0.0.9 (https://technoartcss.com)\n * Copyright (c) 2018-present Fandy Pradana (https://prafandy.com)\n * Licensed under MIT (https://github.com/technoprodev/technoart/blob/master/LICENSE)\n */\n\nconst backToTop = (() => {\n  class Constructor {\n    constructor(element) {\n      const minToScroll = 20\n      function hideOrShow() {\n        if (document.body.scrollTop > minToScroll || document.documentElement.scrollTop > minToScroll) {\n          element.style.display = 'block'\n        } else {\n          element.style.display = 'none'\n        }\n      }\n      hideOrShow()\n      window.addEventListener('scroll', hideOrShow)\n\n      element.addEventListener('click', () => {\n        Constructor._scrollTop()\n      })\n    }\n\n    static _scrollTop() {\n      document.body.scrollTop = 0\n      document.documentElement.scrollTop = 0\n    }\n  }\n\n  const elements = document.querySelectorAll('[technoart-backtotop]')\n  const elementsLength = elements.length\n  if (elementsLength > 0) {\n    for (let i = 0; i < elementsLength; i++) {\n      Constructor(elements[i])\n    }\n  }\n\n  return Constructor\n})()\n\nexport default backToTop\n","/**\n * Technoart v0.0.9 (https://technoartcss.com)\n * Copyright (c) 2018-present Fandy Pradana (https://prafandy.com)\n * Licensed under MIT (https://github.com/technoprodev/technoart/blob/master/LICENSE)\n */\n\nconst fixedOnScroll = (() => {\n  class Constructor {\n    constructor(element, addedClasses = '') {\n      // const position = element.offsetTop\n      const position = ((element) => {\n        element = element.getBoundingClientRect()\n        return element.top + window.scrollY\n      })(element)\n\n      const width = element.offsetWidth\n      // console.log(width) // eslint-disable-line no-console\n\n      window.addEventListener('resize', () => {\n        const addition = addedClasses ? addedClasses.split(' ') : []\n        element.classList.remove('fixed-attached')\n        element.classList.remove(...addition)\n        element.style.width = null\n        Constructor._toggle(element, addedClasses, position, element.offsetWidth)\n      })\n\n      window.addEventListener('scroll', () => {\n        Constructor._toggle(element, addedClasses, position, width)\n      })\n\n      Constructor._toggle(element, addedClasses, position, width)\n    }\n\n    static _toggle(element, addedClasses, position, width) {\n      const addition = addedClasses ? addedClasses.split(' ') : []\n      if (window.pageYOffset > position) {\n        element.classList.add('fixed-attached')\n        element.classList.add(...addition)\n        element.style.width = `${width}px`\n      } else {\n        element.classList.remove('fixed-attached')\n        element.classList.remove(...addition)\n        element.style.width = null\n      }\n    }\n  }\n\n  const elements = document.querySelectorAll('[technoart-fixedonscroll]')\n  const elementsLength = elements.length\n  for (let i = 0; i < elementsLength; i++) {\n    Constructor(elements[i], elements[i].getAttribute('technoart-fixedonscroll'))\n  }\n\n  return Constructor\n})()\n\nexport default fixedOnScroll\n","/**\n * Technoart v0.0.9 (https://technoartcss.com)\n * Copyright (c) 2018-present Fandy Pradana (https://prafandy.com)\n * Licensed under MIT (https://github.com/technoprodev/technoart/blob/master/LICENSE)\n */\n\nconst footerFixed = (() => {\n  class Constructor {\n    constructor() {\n      /* jQuery('.body').outerHeight('auto')\n      jQuery('.page-wrapper .footer').removeClass('footer-fixed')\n      const wrapperHeighori = jQuery('.wrapper').outerHeight() || jQuery('.wrapper-boxed').outerHeight()\n      if (wrapperHeighori <= jQuery(window).outerHeight()) {\n        jQuery('.page-wrapper .footer').addClass('footer-fixed')\n        const headerHeight = jQuery('.header').outerHeight() || 0\n        const footerHeight = jQuery('.wrapper > .footer').outerHeight() || jQuery('.wrapper-boxed > .footer').outerHeight() || 0\n        const bodyHeightFix = jQuery(window).outerHeight() - (headerHeight + footerHeight)\n        jQuery('.body').outerHeight(bodyHeightFix)\n      }*/\n\n      let wrapper = document.getElementsByClassName('wrapper') || document.getElementsByClassName('wrapper-boxed')\n      wrapper = wrapper ? wrapper[0] : false\n\n      let body = document.getElementsByClassName('body')\n      body = body ? body[0] : false\n\n      let header = document.getElementsByClassName('header')\n      header = header ? header[0] : false\n\n      let footerInPageWrapper = document.querySelectorAll('.page-wrapper > .footer')\n      footerInPageWrapper = footerInPageWrapper ? footerInPageWrapper[0] : false\n\n      let footerInWrapper = document.querySelectorAll('.wrapper > .footer') || document.querySelectorAll('.wrapper-boxed > .footer')\n      footerInWrapper = footerInWrapper ? footerInWrapper[0] : false\n\n      if (!wrapper || !body) {\n        return\n      }\n\n      body.style.height = 'auto'\n\n      const footerFixedClass = 'footer-fixed'\n      if (footerInPageWrapper && footerInPageWrapper.classList) {\n        footerInPageWrapper.classList.remove(footerFixedClass)\n      } else if (footerInPageWrapper) {\n        footerInPageWrapper.className = footerInPageWrapper.className.replace(new RegExp('(^|\\\\b)' + footerFixedClass.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' ') // eslint-disable-line prefer-template\n      }\n\n      const wrapperHeight = wrapper.offsetHeight\n      const windowHeight = 'innerHeight' in window ? window.innerHeight : document.documentElement.offsetHeight\n      if (wrapperHeight <= windowHeight) {\n        if (footerInPageWrapper && footerInPageWrapper.classList) {\n          footerInPageWrapper.classList.add(footerFixedClass)\n        } else if (footerInPageWrapper) {\n          footerInPageWrapper.className += ` ${footerFixedClass}`\n        }\n\n        const headerHeight = header.offsetHeight || 0\n        const footerHeight = footerInWrapper ? footerInWrapper.offsetHeight : 0\n        const bodyHeightFix = windowHeight - (headerHeight + footerHeight)\n        body.style.height = `${bodyHeightFix}px`\n      }\n    }\n  }\n\n  Constructor()\n  // jQuery(window).bind('resize', Constructor)\n  window.addEventListener('resize', () => {\n    Constructor()\n  })\n\n  return Constructor\n})()\n\nexport {\n  footerFixed\n}\n","/**\n * Technoart v0.0.9 (https://technoartcss.com)\n * Copyright (c) 2018-present Fandy Pradana (https://prafandy.com)\n * Licensed under MIT (https://github.com/technoprodev/technoart/blob/master/LICENSE)\n */\n\nconst menuY = (() => {\n  class Constructor {\n    constructor() {\n      function toggleClass(el, className) {\n        if (el.classList) {\n          el.classList.toggle(className)\n        } else {\n          const classes = el.className.split(' ')\n          let existingIndex = -1\n          for (let i = classes.length; i--;) {\n            if (classes[i] === className) {\n              existingIndex = i\n            }\n          }\n\n          if (existingIndex >= 0) {\n            classes.splice(existingIndex, 1)\n          } else {\n            classes.push(className)\n          }\n\n          el.className = classes.join(' ')\n        }\n      }\n\n      function removeClass(el, className) {\n        el.className = el.className.split(' ')\n          .filter((cls) => {\n            const isRemove = className !== cls\n            return isRemove\n          })\n          .join(' ')\n      }\n\n      function parentsUntil(el, parent) {\n        // Element.matches() polyfill\n        if (typeof Element.prototype.matches !== 'function') {\n          Element.prototype.matches =\n            Element.prototype.matchesSelector ||\n            Element.prototype.mozMatchesSelector ||\n            Element.prototype.msMatchesSelector ||\n            Element.prototype.oMatchesSelector ||\n            Element.prototype.webkitMatchesSelector ||\n            function (s) {\n              const matches = (this.document || this.ownerDocument).querySelectorAll(s)\n              let i = matches.length\n              while (--i >= 0 && matches.item(i) !== this) {} // eslint-disable-line no-empty\n              return i > -1\n            }\n        }\n\n        let htmlElement = el\n        const parentsUntil = []\n        let until = true\n        while (until) {\n          htmlElement = htmlElement.parentNode\n          if (htmlElement.matches && !htmlElement.matches(parent)) {\n            parentsUntil.push(htmlElement)\n          } else {\n            until = false\n          }\n        }\n\n        return parentsUntil\n      }\n\n      /** Event Queue */\n      const evQueue = {\n        queue: [],\n        isWorking: false,\n        add: (fn, params, onFinish) => {\n          evQueue.queue.push([fn, params, onFinish])\n          evQueue.runQueue()\n        },\n        hasQueue: () => {\n          const isTrue = evQueue.queue.length > 0\n          return isTrue\n        },\n        runQueue: () => {\n          // console.log('RUN', !evQueue.isWorking, evQueue.queue)\n          if (!evQueue.isWorking && evQueue.hasQueue()) {\n            evQueue.isWorking = true\n            const [fn, params, onFinish] = evQueue.queue[0]\n\n            // on finish\n            params.push(() => {\n              // console.log('#FINISHED')\n              evQueue.nextQueue()\n\n              if (typeof onFinish === 'function') {\n                onFinish()\n              }\n            })\n\n            fn(...params)\n          }\n        },\n        nextQueue: () => {\n          evQueue.queue.shift()\n          evQueue.isWorking = false\n          // console.log('SHIFTED', evQueue.queue)\n\n          if (evQueue.hasQueue()) {\n            evQueue.runQueue()\n          }\n        },\n        clear: () => {\n          evQueue.queue = []\n          evQueue.isWorking = false\n        }\n      }\n\n      /** Slider Toggler */\n      const SlideToggler = class SlideToggler {\n        constructor(el1) {\n          this.getHeight = this.getHeight.bind(this)\n          this.toggle = this.toggle.bind(this)\n          this.slideUp = this.slideUp.bind(this)\n          this.slideDown = this.slideDown.bind(this)\n          this.slide = this.slide.bind(this)\n          this.el = el1\n          if (!this.el) {\n            return\n          }\n          window.addEventListener('resize', this.getHeight)\n        }\n\n        getHeight() {\n          const clone = this.el.cloneNode(true)\n          clone.style.cssText = 'visibility: hidden; display: block; margin: -999px 0'\n          this.height = this.el.parentNode.appendChild(clone).clientHeight\n          this.el.parentNode.removeChild(clone)\n          return this.height\n        }\n\n        toggle(time, onFinish) {\n          this.getHeight()\n          if (!time) {\n            time = this.height / 3 + 150 // eslint-disable-line no-magic-numbers\n          }\n          const currHeight = this.el.clientHeight * (getComputedStyle(this.el).display !== 'none')\n          const [start, end] = currHeight > this.height / 2 ? [this.height, 0] : [0, this.height] // eslint-disable-line no-magic-numbers\n          return this.slide(start, end, time, onFinish)\n        }\n\n        slideUp(time, onFinish) {\n          this.getHeight()\n          if (!time) {\n            time = this.height / 3 + 150 // eslint-disable-line no-magic-numbers\n          }\n          const currHeight = this.el.clientHeight * (getComputedStyle(this.el).display !== 'none')\n          return this.slide(currHeight, 0, time, onFinish)\n        }\n\n        slideDown(time, onFinish) {\n          this.getHeight()\n          if (!time) {\n            time = this.height / 3 + 150 // eslint-disable-line no-magic-numbers\n          }\n          const currHeight = this.el.clientHeight * (getComputedStyle(this.el).display !== 'none')\n          return this.slide(currHeight, this.height, time, onFinish)\n        }\n\n        slide(start, end, time, onFinish) {\n          if (start === end) {\n            if (typeof onFinish === 'function') {\n              onFinish()\n            }\n\n            return this\n          }\n\n          const disp = end - start\n          const el = this.el\n          let init = (new Date()).getTime()\n          this.el.classList[end === 0 ? 'remove' : 'add']('open')\n          this.el.style.cssText = 'overflow: hidden; display: block;'\n          init = (new Date()).getTime()\n          // const direction = start < end ? 'DOWN' : 'UP'\n          const repeat = () => { // eslint-disable-line consistent-return\n            const instance = (new Date()).getTime() - init\n            const step = start + disp * instance / time\n            if (instance <= time) {\n              el.style.height = `${step}px` // if Math.floor(step) in [start..end]\n            } else {\n              el.style.cssText = `display: ${(end === 0 ? 'none' : 'block')}`\n            }\n            const repeatLoop = requestAnimationFrame(repeat)\n            const ref = Math.floor(step)\n            if ([].indexOf.call((() => {\n              const results = []\n              for (let i = start; start <= end ? i <= end : i >= end; start <= end ? i++ : i--) {\n                results.push(i)\n              }\n              return results\n            }).apply(this), ref) < 0) {\n              cancelAnimationFrame(repeatLoop)\n\n              if (typeof onFinish === 'function') {\n                onFinish()\n              }\n\n              return this\n            }\n          }\n          return repeat()\n        }\n      }\n\n      const menuY = document.querySelector('.menu-y')\n      if (menuY) {\n        const uls = menuY.querySelectorAll('ul')\n\n        Array.from(uls).forEach((ul) => {\n          ul.toggler = new SlideToggler(ul)\n        })\n\n        menuY.addEventListener('click', (event) => {\n          const clickedElement = event.target\n          const link = clickedElement.closest('a')\n          const next = link.nextElementSibling || ((el) => {\n            do {\n              el = el.nextSibling\n            } while (el && el.nodeType !== 1)\n            return el\n          })(link)\n          const tigaratus = 300\n\n          next.toggler.toggle(tigaratus, () => {\n            toggleClass(link.parentNode, 'open')\n          })\n\n          const isActive =  next.querySelectorAll('.active').length > 0 || ((el, className) => {\n            if (el.classList) {\n              el.classList.contains(className)\n            } else {\n              new RegExp(`(^| )${className}( |$)`, 'gi').test(el.className)\n            }\n          })(link.parentNode, 'active')\n          const activeUls = Array.from(menuY.querySelectorAll('.active > ul'))\n\n          const activeParents = Array.from((() => {\n            const activeParents = []\n            const actives = menuY.querySelectorAll('.active')\n            const activesLength = actives.length\n            if (activesLength > 0) {\n              for (let i = 0; i < activesLength; i++) {\n                const activeParent = parentsUntil(actives[i], '.menu-y', 'ul')\n                const activeParentLength = activeParent.length\n                if (activeParentLength > 0) {\n                  for (let j = 0; j < activeParentLength; j++) {\n                    activeParents.push(activeParent[j])\n                  }\n                }\n              }\n            }\n            return activeParents\n          })())\n\n          const parents = parentsUntil(link, '.menu-y', 'ul')\n\n          if (true && !isActive && next) {\n            Array.from(uls)\n              .filter((ul) => {\n                const isRemove = ul !== next &&\n                  activeUls.indexOf(ul) === -1 &&\n                  activeParents.indexOf(ul) === -1 &&\n                  parents.indexOf(ul) === -1\n                return isRemove\n              }).forEach((ul) => {\n                ul.toggler.slideUp(tigaratus)\n                removeClass(ul.parentNode, 'open')\n              })\n          }\n\n          if (next) {\n            event.preventDefault()\n          }\n        })\n      }\n    }\n  }\n\n  Constructor()\n\n  return Constructor\n})()\n\nexport {\n  menuY\n}\n","/**\n * Technoart v0.0.9 (https://technoartcss.com)\n * Copyright (c) 2018-present Fandy Pradana (https://prafandy.com)\n * Licensed under MIT (https://github.com/technoprodev/technoart/blob/master/LICENSE)\n */\n\nconst toggle = (() => {\n  class Constructor {\n    constructor(element, targetSelector, addedClasses = '') {\n      element.addEventListener('click', (e) => {\n        Constructor._toggle(targetSelector, addedClasses)\n        e.preventDefault()\n      })\n    }\n\n    static _toggle(targetSelector, addedClasses) {\n      const targets = document.querySelectorAll(targetSelector)\n      const targetsLength = targets.length\n      for (let i = 0; i < targetsLength; i++) {\n        targets[i].classList.toggle(addedClasses)\n      }\n    }\n  }\n\n  const elements = document.querySelectorAll('[technoart-toggle]')\n  const elementsLength = elements.length\n  for (let i = 0; i < elementsLength; i++) {\n    Constructor(elements[i], elements[i].getAttribute('technoart-toggle'), elements[i].getAttribute('technoart-toggleclasses'))\n  }\n\n  return Constructor\n})()\n\nexport default toggle\n","import backToTop from './back-to-top'\nimport fixedOnScroll from './fixed-on-scroll'\nimport {\n  footerFixed\n} from './layout'\nimport {\n  menuY\n} from './menu'\nimport toggle from './toggle'\n\n/**\n * Technoart v0.0.9 (https://technoartcss.com)\n * Copyright (c) 2018-present Fandy Pradana (https://prafandy.com)\n * Licensed under MIT (https://github.com/technoprodev/technoart/blob/master/LICENSE)\n */\n\nconst technoart = {\n  backToTop,\n  footerFixed,\n  fixedOnScroll,\n  menuY,\n  toggle\n}\n\nexport default technoart\n"],"names":["backToTop","Constructor","element","minToScroll","hideOrShow","document","body","scrollTop","documentElement","style","display","window","addEventListener","_scrollTop","elements","querySelectorAll","elementsLength","length","i","fixedOnScroll","addedClasses","position","getBoundingClientRect","top","scrollY","width","offsetWidth","addition","split","classList","remove","_toggle","pageYOffset","add","getAttribute","footerFixed","wrapper","getElementsByClassName","header","footerInPageWrapper","footerInWrapper","height","footerFixedClass","className","replace","RegExp","join","wrapperHeight","offsetHeight","windowHeight","innerHeight","headerHeight","footerHeight","bodyHeightFix","menuY","toggleClass","el","toggle","classes","existingIndex","splice","push","removeClass","filter","cls","isRemove","parentsUntil","parent","Element","prototype","matches","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","s","ownerDocument","item","htmlElement","until","parentNode","SlideToggler","el1","getHeight","bind","slideUp","slideDown","slide","clone","cloneNode","cssText","appendChild","clientHeight","removeChild","time","onFinish","currHeight","getComputedStyle","start","end","disp","init","Date","getTime","repeat","instance","step","repeatLoop","requestAnimationFrame","ref","Math","floor","indexOf","call","results","apply","cancelAnimationFrame","querySelector","uls","Array","from","forEach","ul","toggler","event","clickedElement","target","link","closest","next","nextElementSibling","nextSibling","nodeType","tigaratus","isActive","contains","test","activeUls","activeParents","actives","activesLength","activeParent","activeParentLength","j","parents","preventDefault","targetSelector","e","targets","targetsLength","technoart"],"mappings":"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"}